import{r as o,j as e,R as Se}from"./react-B1f6vjZc.js";import{R as je}from"./react-dom-D5V5GYEt.js";import{L as R,O as J,N as fe,u as K,a as $,c as Ee,b as ye,R as Ce,d as v}from"./react-router-BcdwFqV6.js";import{a as U,c as F,P as ve}from"./react-redux-DJbOStK5.js";import{a as q}from"./axios-ngrFHoWO.js";import{U as Ne,a as k,L as Re,b as Ue,M as X,c as T,E as _,d as P,F as we,P as be,S as Ie,H as Ae}from"./lucide-react-N_smCX2_.js";import{c as Z,f as ee,a as Te,b as _e,s as Pe}from"./@reduxjs-ZAJMJ1g6.js";import{S as H}from"./sweetalert2-Bj_ZQUAw.js";import"./cookie-CqkleIqs.js";import"./scheduler-Bb8JjhAW.js";import"./use-sync-external-store-CAtsQR_f.js";import"./redux-BXkGT1VS.js";import"./immer-DqhfNuDB.js";import"./redux-thunk-ClJT1hhx.js";import"./@standard-schema-DjkmAgHD.js";import"./reselect-utOO-l3Z.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const x of i.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&a(x)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const se="USER_REGISTER_REQUEST",te="USER_REGISTER_SUCCESS",re="USER_REGISTER_FAIL",Le="USER_REGISTER_RESET",ne="USER_SIGNIN_REQUEST",G="USER_SIGNIN_SUCCESS",ae="USER_SIGNIN_FAIL",De="USER_SIGNIN_RESET",oe="USER_SIGNOUT",ie="USER_DETAILS_REQUEST",le="USER_DETAILS_SUCCESS",ce="USER_DETAILS_FAIL",Oe="USER_DETAILS_RESET",ke="USER_LIST_REQUEST",Fe="USER_LIST_SUCCESS",qe="USER_LIST_FAIL",de="USER_UPDATE_PROFILE_REQUEST",ue="USER_UPDATE_PROFILE_SUCCESS",pe="USER_UPDATE_PROFILE_FAIL",A="USER_UPDATE_PROFILE_RESET",Ge="USER_UPDATE_REQUEST",ze="USER_UPDATE_SUCCESS",Me="USER_UPDATE_FAIL",Ve="USER_UPDATE_RESET",He=(t,s,n)=>async a=>{a({type:se,payload:{nombre:t,email:s,password:n}});try{const{data:r}=await q.post("/api/users/register",{nombre:t,email:s,password:n});a({type:te,payload:r}),a({type:G,payload:r}),localStorage.setItem("userInfo",JSON.stringify(r))}catch(r){a({type:re,payload:r.response&&r.response.data.message?r.response.data.message:r.message})}},Qe=(t,s)=>async n=>{n({type:ne,payload:{email:t,password:s}});try{const{data:a}=await q.post("/api/users/signin",{email:t,password:s});n({type:G,payload:a}),localStorage.setItem("userInfo",JSON.stringify(a))}catch(a){n({type:ae,payload:a.response&&a.response.data.message?a.response.data.message:a.message})}},Ye=()=>t=>{localStorage.removeItem("userInfo"),localStorage.removeItem("cartItems"),localStorage.removeItem("shippingAddress"),t({type:oe}),document.location.href="/signin"},Be=t=>async(s,n)=>{s({type:ie,payload:t});const{userSignin:{userInfo:a}}=n();try{const{data:r}=await q.get(`/api/users/${t}`,{headers:{Authorization:`Bearer ${a.token}`}});s({type:le,payload:r})}catch(r){const i=r.response&&r.response.data.message?r.response.data.message:r.message;s({type:ce,payload:i})}},We=t=>async(s,n)=>{s({type:de,payload:t});const{userSignin:{userInfo:a}}=n();try{const{data:r}=await q.put("/api/users/profile",t,{headers:{Authorization:`Bearer ${a.token}`}});s({type:ue,payload:r}),s({type:G,payload:r}),localStorage.setItem("userInfo",JSON.stringify(r))}catch(r){const i=r.response&&r.response.data.message?r.response.data.message:r.message;s({type:pe,payload:i})}};function Xe(){const t=U(u=>u.userSignin),{userInfo:s}=t,n=F(),[a,r]=o.useState(!1),[i,x]=o.useState(()=>document.body.getAttribute("data-theme")||"light"),S=()=>{r(!1),n(Ye())},g=()=>{x(u=>{const j=u==="light"?"dark":"light";return j==="dark"?document.body.setAttribute("data-theme","dark"):document.body.removeAttribute("data-theme"),j})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"display-grid",children:[e.jsx("div",{className:"header",children:e.jsxs("div",{className:"header-container",children:[e.jsx("h1",{className:"header-title",children:e.jsx(R,{to:"/",className:"header-title-link",children:"USA App"})}),e.jsxs("div",{className:"header-actions",children:[e.jsx("button",{onClick:g,className:"theme-button icon-button","aria-label":"Cambiar tema",children:i==="light"?e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"5"}),e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),e.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),e.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),e.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),e.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),e.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),e.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),e.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})}),s?e.jsxs(e.Fragment,{children:[e.jsxs(R,{to:"/nuevocliente",className:"button-primary",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(Ne,{size:18}),e.jsx("span",{children:"Nuevo Cliente"})]}),e.jsxs("div",{className:"user-menu-container",children:[e.jsxs("button",{onClick:()=>r(!a),className:"user-menu-button",children:[e.jsx("span",{children:s.name}),e.jsx("div",{className:"avatar",children:s.nombre.charAt(0)})]}),a&&e.jsxs("div",{className:"dropdown-menu",children:[e.jsxs(R,{to:"/profile",className:"dropdown-item",onClick:()=>r(!1),children:[e.jsx(k,{size:18}),e.jsx("span",{children:"Ver Perfil"})]}),e.jsxs("button",{onClick:S,className:"dropdown-item",children:[e.jsx(Re,{size:18}),e.jsx("span",{children:"Cerrar Sesión"})]})]})]})]}):e.jsx(R,{to:"/signin",className:"theme-button icon-button","aria-label":"Iniciar Sesión",children:e.jsx(Ue,{size:22})})]})]})}),e.jsx("div",{className:"main",children:e.jsx("div",{className:"main-content",children:e.jsx(J,{})})}),e.jsx("div",{className:"footer",children:e.jsx("div",{className:"footer-container",children:e.jsxs("span",{children:["© ",new Date().getFullYear()," mr.F-dev. Todos los derechos reservados."]})})})]})})}const Q=Z({reducerPath:"clienteApi",baseQuery:ee({baseUrl:"/api",prepareHeaders:(t,{getState:s})=>{const n=s().userSignin.userInfo.token;return n&&t.set("Authorization",`Bearer ${n}`),t}}),tagTypes:["Cliente"],endpoints:t=>({getClientes:t.query({query:()=>"/clientes",providesTags:s=>s?[...s.map(({_id:n})=>({type:"Cliente",id:n})),{type:"Cliente",id:"LIST"}]:[{type:"Cliente",id:"LIST"}]}),getCliente:t.query({query:s=>`/clientes/${s}`,providesTags:(s,n,a)=>[{type:"Cliente",id:a}]}),newCliente:t.mutation({query:s=>({url:"/clientes/register",method:"POST",body:s}),invalidatesTags:[{type:"Cliente",id:"LIST"}]}),updateCliente:t.mutation({query:({id:s,...n})=>({url:`/clientes/${s}`,method:"PUT",body:n}),invalidatesTags:(s,n,{id:a})=>[{type:"Cliente",id:a},{type:"Cliente",id:"LIST"}]}),deleteCliente:t.mutation({query:s=>({url:`/clientes/${s}`,method:"DELETE"}),invalidatesTags:(s,n,a)=>[{type:"Cliente",id:a}]})})}),me=Te({name:"splash",initialState:{isVisible:sessionStorage.getItem("splashShown")!=="true"},reducers:{hideSplash:t=>{t.isVisible=!1,sessionStorage.setItem("splashShown","true")}}}),{hideSplash:Ts}=me.actions,Je=me.reducer,Ke=(t={},s)=>{switch(s.type){case se:return{loading:!0};case te:return{loading:!1,userInfo:s.payload};case re:return{loading:!1,error:s.payload};default:return t}},$e=(t={},s)=>{switch(s.type){case ne:return{loading:!0};case G:return{loading:!1,userInfo:s.payload};case ae:return{loading:!1,error:s.payload};case oe:return{};case De:return{};default:return t}},Ze=(t={loading:!0},s)=>{switch(s.type){case ie:return{loading:!0};case le:return{loading:!1,user:s.payload};case ce:return{loading:!1,error:s.payload};case Oe:return{loading:!0};default:return t}},es=(t={},s)=>{switch(s.type){case de:return{loading:!0};case ue:return{loading:!1,success:!0};case pe:return{loading:!1,error:s.payload};case A:return{};default:return t}},ss=(t={},s)=>{switch(s.type){case Ge:return{loading:!0};case ze:return{loading:!1,success:!0};case Me:return{loading:!1,error:s.payload};case Ve:return{};default:return t}},ts=(t={loading:!0,users:[]},s)=>{switch(s.type){case ke:return{loading:!0};case Fe:return{loading:!1,vendedores:s.payload};case qe:return{loading:!1,error:s.payload};default:return t}},Y=Z({reducerPath:"usersApi",baseQuery:ee({baseUrl:"/api",prepareHeaders:(t,{getState:s})=>{const n=s().userSignin.userInfo.token;return n&&t.set("authorization",`Bearer ${n}`),t}}),endpoints:t=>({getUsers:t.query({query:()=>"/users"}),getUser:t.query({query:s=>`/user/${s}`}),registerUser:t.mutation({query:(s,n,a)=>({url:"/users/register",method:"POST",body:{nombre:s,email:n,password:a}}),invalidatesTags:["Users"]})})}),rs={userSignin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},he=_e({reducer:{splash:Je,userSignin:$e,userRegister:Ke,userDetails:Ze,userUpdateProfile:es,userUpdate:ss,userList:ts,[Q.reducerPath]:Q.reducer,[Y.reducerPath]:Y.reducer},middleware:t=>t().concat(Q.middleware,Y.middleware),preloadedState:rs});Pe(he.dispatch);const ns=()=>{const t=U(n=>n.userSignin),{userInfo:s}=t;return s?e.jsx(J,{}):e.jsx(fe,{to:"/signin"})};function as(){const t=K(),[s,n]=o.useState(""),[a,r]=o.useState(""),[i,x]=o.useState(!1),{search:S}=$(),g=new URLSearchParams(S).get("redirect"),u=g||"/",j=U(c=>c.userSignin),{userInfo:f,loading:y,error:l}=j,p=F(),h=c=>{c.preventDefault(),p(Qe(s,a))};return o.useEffect(()=>{f&&t(u)},[t,u,f]),e.jsx("div",{className:"form-container",children:e.jsxs("form",{className:"form-card card",onSubmit:h,children:[e.jsx("h1",{className:"form-title",children:"Iniciar Sesión"}),l&&e.jsx("div",{className:"form-error",children:l}),e.jsxs("div",{className:"input-group",children:[e.jsx(X,{className:"input-icon",size:20}),e.jsx("input",{type:"email",id:"email",placeholder:"Correo electrónico",required:!0,onChange:c=>n(c.target.value)})]}),e.jsxs("div",{className:"input-group",children:[e.jsx(T,{className:"input-icon",size:20}),e.jsx("input",{type:i?"text":"password",id:"password",placeholder:"Contraseña",required:!0,onChange:c=>r(c.target.value)}),e.jsx("button",{type:"button",className:"password-toggle-button",onClick:()=>x(!i),children:i?e.jsx(_,{size:20}):e.jsx(P,{size:20})})]}),e.jsx("button",{className:"button-primary form-submit-button",type:"submit",disabled:y,children:y?"Iniciando...":"Entrar"}),e.jsxs("div",{className:"form-link",children:["¿Nuevo por aquí?"," ",e.jsx(R,{to:`/register?redirect=${u}`,children:"Crea una cuenta"})]})]})})}function os(){const t=K(),[s,n]=o.useState(""),[a,r]=o.useState(""),[i,x]=o.useState(""),[S,g]=o.useState(""),[u,j]=o.useState(!1),[f,y]=o.useState(!1),[l,p]=o.useState(null),{search:h}=$(),c=new URLSearchParams(h).get("redirect"),w=c||"/",L=U(m=>m.userRegister),{userInfo:b,loading:D,error:N}=L,I=F(),z=m=>{m.preventDefault(),i!==S?p("Las contraseñas no coinciden"):(p(null),I(He(s,a,i)))};return o.useEffect(()=>{b&&t(w)},[t,w,b]),o.useEffect(()=>{if(N){const m=setTimeout(()=>{I({type:Le})},4e3);return()=>clearTimeout(m)}},[I,N]),e.jsx("div",{className:"form-container",children:e.jsxs("form",{className:"form-card",onSubmit:z,children:[e.jsx("h2",{className:"form-title",children:"Crear Cuenta"}),e.jsxs("div",{className:"input-group",children:[e.jsx(k,{className:"input-icon"}),e.jsx("input",{type:"text",placeholder:"Nombre",required:!0,value:s,onChange:m=>n(m.target.value)})]}),e.jsxs("div",{className:"input-group",children:[e.jsx(X,{className:"input-icon"}),e.jsx("input",{type:"email",placeholder:"Email",required:!0,value:a,onChange:m=>r(m.target.value)})]}),e.jsxs("div",{className:"input-group",children:[e.jsx(T,{className:"input-icon"}),e.jsx("input",{type:u?"text":"password",placeholder:"Clave",required:!0,value:i,onChange:m=>x(m.target.value)}),e.jsx("button",{type:"button",className:"password-toggle-button",onClick:()=>j(!u),children:u?e.jsx(_,{}):e.jsx(P,{})})]}),e.jsxs("div",{className:"input-group",children:[e.jsx(T,{className:"input-icon"}),e.jsx("input",{type:f?"text":"password",placeholder:"Confirmar Clave",required:!0,value:S,onChange:m=>g(m.target.value)}),e.jsx("button",{type:"button",className:"password-toggle-button",onClick:()=>y(!f),children:f?e.jsx(_,{}):e.jsx(P,{})})]}),(N||l)&&e.jsx("div",{className:"form-error",children:N||l}),e.jsx("button",{type:"submit",className:"button-primary form-submit-button",disabled:D,children:D?"Registrando...":"Crear Cuenta"}),e.jsxs("div",{className:"form-link",children:["¿Ya tienes una cuenta?"," ",e.jsx(R,{to:`/signin?redirect=${w}`,children:"Inicia Sesión"})]})]})})}const B="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAANlBMVEVFRUVAQEA6Ojo1NTUxMTGFhYaVlZehoqOysrMkJCTh4eLr6+vU1NXExMVsbG1cXF0VFRVQUFASrDoiAAACRUlEQVR42rXT247rIAwFUNsY2+Hm+P9/9gBJm4w0mrezFRUVFhuqKpD+CN9J84HX9B8+MXy3XsPjn4U9CbsKAgLnAEi0F4kuiBFX1QW9t9YMeKiKSh5Os2RR0FI6Mm1IxN5KrUWYwof0UpoO2qW51donSfSCrY3jPM+Dcq+l50jErnOhE29IROlqbAYp8cRgrWv2hNluOLMgjwVr6znRTDpYuqoEivY6YbohfqGNRCtTqkhGD3lDSqO3qla7SRDhkiAiOu+sG+LdSAtmL8004/qOxEMnDf4NnrmZ6VgOMYWo6Ehayxcipg0Psv0Tlps466S0GvGCiHcjs3ebcjOiBRUWhL31BZHzhJYJkRzGgvErhESiYt2JXGNBc63lgXBDRA5VawakfUN9w5kbwpRjwiK59XgfDRviCxKJ9VKmPbLOoJbn6HcjsFtvs4VZphO+IGz4NM4g59ZKHWeYqY1jQ1wL68Eb7na0VvXg3E0V+QNx4Rsm2PdgL42OsG6zkC643bvxPnyB1rsy4wfCj8aPPDmX1gwO/MA7T+MOk9RaepwEX4hfWPJx/6EwrNZqcCaA5+gHWh4e4SNrm3XjmH3wa+M6zVTVTLMf54GwYa0LfuNXIgAT75f7uzCCH0fnKwcTLYcEgGtXgifhQBQwH4zdAwg+AgEj6GEYpuoknky8O2fVTGsuEFV/QKUsyYOmMEcjMAhlyeyr4Q1dMwFCFhEn86EYCjp2+euOkSXDypjx5Dp1iGTE7DEQniDSNc7sTwIkpHviP+UfbJwh+oK7LY4AAAAASUVORK5CYII=";function is(){const[t,s]=o.useState(""),[n,a]=o.useState(""),[r,i]=o.useState(""),[x,S]=o.useState(""),[g,u]=o.useState(""),[j,f]=o.useState(""),[y,l]=o.useState(""),[p,h]=o.useState(!1),[c,w]=o.useState(!1),[L,b]=o.useState(null),D=U(d=>d.userSignin),{userInfo:N}=D,I=U(d=>d.userDetails),{loading:z,error:m,user:C}=I,ge=U(d=>d.userUpdateProfile),{success:M,error:O,loading:V}=ge,E=F();o.useEffect(()=>{C?(s(C.nombre||" "),a(C.email||" "),u(C.apellido||" "),f(C.cedula||" "),l(C.telefono||" ")):(E({type:A}),E(Be(N._id)))},[E,N._id,C,M]);const xe=d=>{d.preventDefault(),r!==x?b("Las contraseñas no coinciden"):(b(null),E(We({userId:C._id,nombre:t,email:n,password:r,apellido:g,cedula:j,telefono:y})))};return o.useEffect(()=>{M&&(H.fire({title:"Datos Actualizado con Exito!",text:"Editar Perfil",imageUrl:B,imageWidth:70,imageHeight:70,imageAlt:"logo"}),E({type:A}))},[E,M]),o.useEffect(()=>{O&&(H.fire({title:"error",text:"Editar Perfil",imageUrl:B,imageWidth:70,imageHeight:70,imageAlt:"logo"}),E({type:A}))},[E,O]),o.useEffect(()=>{m&&(H.fire("Ocurrio un Error al Actualizar!","",m),E({type:A}))},[E,m]),e.jsx("div",{className:"signin-container",children:e.jsxs("form",{className:"signin-form",onSubmit:xe,style:{gap:"1rem"},children:[e.jsx("img",{src:B,alt:"Logo",className:"signin-logo"}),e.jsx("h2",{children:"Perfil de Usuario"}),z?e.jsx("p",{children:"Loading..."}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"input-group",children:[e.jsx(k,{className:"input-icon"}),e.jsx("input",{id:"nombre",type:"text",placeholder:"Nombre",value:t,onChange:d=>s(d.target.value)})]}),e.jsxs("div",{className:"input-group",children:[e.jsx(k,{className:"input-icon"}),e.jsx("input",{id:"apellido",type:"text",placeholder:"Apellido",value:g,onChange:d=>u(d.target.value)})]}),e.jsxs("div",{className:"input-group",children:[e.jsx(X,{className:"input-icon"}),e.jsx("input",{id:"email",type:"email",placeholder:"Email",value:n,onChange:d=>a(d.target.value)})]}),e.jsxs("div",{className:"input-group",children:[e.jsx(T,{className:"input-icon"}),e.jsx("input",{id:"password",type:p?"text":"password",placeholder:"Nueva clave (opcional)",onChange:d=>i(d.target.value)}),e.jsx("button",{type:"button",className:"password-toggle",onClick:()=>h(!p),children:p?e.jsx(_,{}):e.jsx(P,{})})]}),e.jsxs("div",{className:"input-group",children:[e.jsx(T,{className:"input-icon"}),e.jsx("input",{id:"confirmPassword",type:c?"text":"password",placeholder:"Confirmar nueva clave",onChange:d=>S(d.target.value)}),e.jsx("button",{type:"button",className:"password-toggle",onClick:()=>w(!c),children:c?e.jsx(_,{}):e.jsx(P,{})})]}),e.jsxs("div",{className:"input-group",children:[e.jsx(we,{className:"input-icon"}),e.jsx("input",{id:"cedula",type:"text",placeholder:"Cédula",value:j,onChange:d=>f(d.target.value)})]}),e.jsxs("div",{className:"input-group",children:[e.jsx(be,{className:"input-icon"}),e.jsx("input",{id:"telefono",type:"text",placeholder:"Teléfono",value:y,onChange:d=>l(d.target.value)})]}),(O||L)&&e.jsx("p",{className:"signin-error",children:O||L}),e.jsx("div",{className:"form-actions",children:e.jsxs("button",{type:"submit",className:"signin-button",disabled:V,children:[V?e.jsx("div",{className:"spinner"}):e.jsx(Ie,{}),e.jsx("span",{children:V?"Actualizando...":"Actualizar Perfil"})]})})]})]})})}function ls(){return e.jsx("div",{children:e.jsx("h1",{children:"HOME SECTION"})})}const W={container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"calc(100vh - 200px)",textAlign:"center",backgroundColor:"#f8f9fa",borderRadius:"8px",margin:"1rem",padding:"2rem",color:"#495057"},title:{fontSize:"2.5rem",fontWeight:"bold",marginTop:"1rem"},text:{fontSize:"1.1rem",maxWidth:"500px",lineHeight:"1.6"}};function cs(){return e.jsxs("div",{style:W.container,children:[e.jsx(Ae,{size:64,color:"#ffc107"}),e.jsx("h1",{style:W.title,children:"Página en Construcción"}),e.jsxs("p",{style:W.text,children:["Estamos trabajando para tener esta sección lista lo antes posible.",e.jsx("br",{}),"Ofrecemos disculpas por las molestias."]}),e.jsx(R,{to:"/",className:"header-login-button",style:{marginTop:"2rem"},children:"Volver al Inicio"})]})}const ds=({isOpen:t,onClose:s,children:n})=>t?e.jsx("div",{className:"modal-backdrop",onClick:s,children:e.jsxs("div",{className:"modal-content",onClick:a=>a.stopPropagation(),children:[e.jsx("button",{className:"modal-close-btn",onClick:s,children:"×"}),n]})}):null,us=()=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),e.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]}),ps=()=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),e.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),e.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),ms=()=>{const[t,s]=o.useState({nombre:"",direccion:"",telefono:"",email:""}),[n,a]=o.useState([]),[r,i]=o.useState({email:"",zipCode:"",ciudad:"",asesor:"",vendido:0}),[x,S]=o.useState(!1),g=l=>{const{name:p,value:h}=l.target;s(c=>({...c,[p]:h}))},u=l=>{const{name:p,value:h}=l.target;i(c=>({...c,[p]:h}))},j=()=>{if(!r.email){alert("El email de la cuenta es obligatorio.");return}a(l=>[...l,{...r,creado:new Date}]),i({email:"",zipCode:"",ciudad:"",asesor:"",vendido:0}),S(!1)},f=l=>{a(p=>p.filter((h,c)=>c!==l))},y=async l=>{l.preventDefault();const p={...t,cuentas:n};try{const h=await fetch("/api/clientes/newcliente",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!h.ok)throw new Error("Error al crear el cliente");const c=await h.json();console.log("Cliente creado:",c),alert("¡Cliente creado con éxito!")}catch(h){console.error("Error en la petición:",h),alert(`Error: ${h.message}`)}};return e.jsxs("div",{className:"crear-cliente-container",children:[e.jsxs("form",{onSubmit:y,className:"cliente-form",children:[e.jsx("h1",{children:"Crear Nuevo Cliente"}),e.jsxs("section",{className:"datos-principales",children:[e.jsx("h2",{children:"Datos Principales"}),e.jsxs("div",{className:"form-grid",children:[e.jsx("input",{name:"nombre",value:t.nombre,onChange:g,placeholder:"Nombre completo",required:!0}),e.jsx("input",{name:"direccion",value:t.direccion,onChange:g,placeholder:"Dirección",required:!0}),e.jsx("input",{name:"telefono",value:t.telefono,onChange:g,placeholder:"Teléfono"}),e.jsx("input",{type:"email",name:"email",value:t.email,onChange:g,placeholder:"Email Principal"})]})]}),e.jsxs("section",{className:"cuentas-seccion",children:[e.jsxs("div",{className:"cuentas-header",children:[e.jsx("h2",{children:"Cuentas"}),e.jsxs("button",{type:"button",className:"add-btn",onClick:()=>S(!0),children:[e.jsx(us,{})," Agregar Cuenta"]})]}),e.jsx("div",{className:"grid-cuentas",children:n.map((l,p)=>e.jsxs("div",{className:"cuenta-card",children:[e.jsx("button",{type:"button",onClick:()=>f(p),className:"delete-btn-card",children:e.jsx(ps,{})}),e.jsx("div",{className:"cuenta-card-header",children:e.jsx("strong",{children:l.email})}),e.jsxs("div",{className:"cuenta-card-body",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Ciudad:"})," ",l.ciudad||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Zip:"})," ",l.zipCode||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Asesor:"})," ",l.asesor||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Vendido:"})," $",l.vendido||0]})]})]},p))})]}),e.jsx("button",{type:"submit",className:"submit-btn",children:"Guardar Cliente"})]}),e.jsx(ds,{isOpen:x,onClose:()=>S(!1),children:e.jsxs("div",{className:"modal-form",children:[e.jsx("h3",{children:"Nueva Cuenta"}),e.jsxs("div",{className:"form-grid",children:[e.jsx("input",{name:"email",value:r.email,onChange:u,placeholder:"Email de la cuenta",required:!0}),e.jsx("input",{name:"zipCode",value:r.zipCode,onChange:u,placeholder:"Zip Code"}),e.jsx("input",{name:"ciudad",value:r.ciudad,onChange:u,placeholder:"Ciudad"}),e.jsx("input",{name:"asesor",value:r.asesor,onChange:u,placeholder:"Asesor"}),e.jsx("input",{type:"number",name:"vendido",value:r.vendido,onChange:u,placeholder:"Vendido ($)"})]}),e.jsxs("div",{className:"modal-form-actions",children:[e.jsx("button",{type:"button",onClick:j,className:"button-primary",children:"Confirmar y Agregar"}),e.jsx("button",{type:"button",onClick:()=>S(!1),className:"button-secondary",children:"Cancelar"})]})]})})]})},hs=Ee(ye(e.jsxs(v,{path:"/",element:e.jsx(Xe,{}),children:[e.jsx(v,{index:!0,element:e.jsx(ls,{})}),e.jsx(v,{path:"/signin",element:e.jsx(as,{})}),e.jsx(v,{path:"/register",element:e.jsx(os,{})}),e.jsx(v,{path:"",element:e.jsx(ns,{}),children:e.jsx(v,{path:"/profile",element:e.jsx(is,{})})}),e.jsx(v,{path:"/enconstruccion",element:e.jsx(cs,{})}),e.jsx(v,{path:"/nuevocliente",element:e.jsx(ms,{})})]})));je.createRoot(document.getElementById("root")).render(e.jsx(ve,{store:he,children:e.jsx(Se.StrictMode,{children:e.jsx(Ce,{router:hs})})}));
