var Vt=Object.defineProperty;var $t=(e,t,r)=>t in e?Vt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ne=(e,t,r)=>$t(e,typeof t!="symbol"?t+"":t,r);import{i as At,a as de,c as Pt,b as Ht,d as We,e as Kt}from"./redux-BXkGT1VS.js";import{p as Ee,i as Ze,a as It,e as Wt,b as ot,c as Qt,o as Jt}from"./immer-fBqQtvEc.js";import{t as Gt,w as Xt}from"./redux-thunk-ClJT1hhx.js";import{S as Yt}from"./@standard-schema-DjkmAgHD.js";import{w as ut,c as qt}from"./reselect-utOO-l3Z.js";import{b as Zt,u as en,a as tn,c as nn,s as be}from"./react-redux-C2QVzL3I.js";import{r as L}from"./react-DOKUib4L.js";var rn=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?We:We.apply(null,arguments)},sn=e=>e&&typeof e.match=="function";function G(e,t){function r(...a){if(t){let l=t(...a);if(!l)throw new Error(X(0));return{type:e,payload:l.payload,..."meta"in l&&{meta:l.meta},..."error"in l&&{error:l.error}}}return{type:e,payload:a[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=a=>At(a)&&a.type===e,r}var Ct=class me extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,me.prototype)}static get[Symbol.species](){return me}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new me(...t[0].concat(this)):new me(...t.concat(this))}};function ct(e){return Ze(e)?Ee(e,()=>{}):e}function Me(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function on(e){return typeof e=="boolean"}var un=()=>function(t){const{thunk:r=!0,immutableCheck:a=!0,serializableCheck:l=!0,actionCreatorCheck:v=!0}=t??{};let b=new Ct;return r&&(on(r)?b.push(Gt):b.push(Xt(r.extraArgument))),b},Te="RTK_autoBatch",pe=()=>e=>({payload:e,meta:{[Te]:!0}}),at=e=>t=>{setTimeout(t,e)},cn=(e={type:"raf"})=>t=>(...r)=>{const a=t(...r);let l=!0,v=!1,b=!1;const P=new Set,A=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:at(10):e.type==="callback"?e.queueNotification:at(e.timeout),w=()=>{b=!1,v&&(v=!1,P.forEach(M=>M()))};return Object.assign({},a,{subscribe(M){const R=()=>l&&M(),g=a.subscribe(R);return P.add(M),()=>{g(),P.delete(M)}},dispatch(M){var R;try{return l=!((R=M==null?void 0:M.meta)!=null&&R[Te]),v=!l,v&&(b||(b=!0,A(w))),a.dispatch(M)}finally{l=!0}}})},an=e=>function(r){const{autoBatch:a=!0}=r??{};let l=new Ct(e);return a&&l.push(cn(typeof a=="object"?a:void 0)),l};function vr(e){const t=un(),{reducer:r=void 0,middleware:a,devTools:l=!0,preloadedState:v=void 0,enhancers:b=void 0}=e||{};let P;if(typeof r=="function")P=r;else if(de(r))P=Pt(r);else throw new Error(X(1));let A;typeof a=="function"?A=a(t):A=t();let w=We;l&&(w=rn({trace:!1,...typeof l=="object"&&l}));const M=Ht(...A),R=an(M);let g=typeof b=="function"?b(R):R();const p=w(...g);return Kt(P,v,p)}function Ot(e){const t={},r=[];let a;const l={addCase(v,b){const P=typeof v=="string"?v:v.type;if(!P)throw new Error(X(28));if(P in t)throw new Error(X(29));return t[P]=b,l},addMatcher(v,b){return r.push({matcher:v,reducer:b}),l},addDefaultCase(v){return a=v,l}};return e(l),[t,r,a]}function ln(e){return typeof e=="function"}function dn(e,t){let[r,a,l]=Ot(t),v;if(ln(e))v=()=>ct(e());else{const P=ct(e);v=()=>P}function b(P=v(),A){let w=[r[A.type],...a.filter(({matcher:M})=>M(A)).map(({reducer:M})=>M)];return w.filter(M=>!!M).length===0&&(w=[l]),w.reduce((M,R)=>{if(R)if(It(M)){const p=R(M,A);return p===void 0?M:p}else{if(Ze(M))return Ee(M,g=>R(g,A));{const g=R(M,A);if(g===void 0){if(M===null)return M;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return M},P)}return b.getInitialState=v,b}var Dt=(e,t)=>sn(e)?e.match(t):e(t);function ne(...e){return t=>e.some(r=>Dt(r,t))}function ve(...e){return t=>e.every(r=>Dt(r,t))}function ke(e,t){if(!e||!e.meta)return!1;const r=typeof e.meta.requestId=="string",a=t.indexOf(e.meta.requestStatus)>-1;return r&&a}function Re(e){return typeof e[0]=="function"&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function et(...e){return e.length===0?t=>ke(t,["pending"]):Re(e)?ne(...e.map(t=>t.pending)):et()(e[0])}function fe(...e){return e.length===0?t=>ke(t,["rejected"]):Re(e)?ne(...e.map(t=>t.rejected)):fe()(e[0])}function je(...e){const t=r=>r&&r.meta&&r.meta.rejectedWithValue;return e.length===0?ve(fe(...e),t):Re(e)?ve(fe(...e),t):je()(e[0])}function ie(...e){return e.length===0?t=>ke(t,["fulfilled"]):Re(e)?ne(...e.map(t=>t.fulfilled)):ie()(e[0])}function Je(...e){return e.length===0?t=>ke(t,["pending","fulfilled","rejected"]):Re(e)?ne(...e.flatMap(t=>[t.pending,t.rejected,t.fulfilled])):Je()(e[0])}var fn="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",tt=(e=21)=>{let t="",r=e;for(;r--;)t+=fn[Math.random()*64|0];return t},hn=["name","message","stack","code"],ze=class{constructor(e,t){Ne(this,"_type");this.payload=e,this.meta=t}},lt=class{constructor(e,t){Ne(this,"_type");this.payload=e,this.meta=t}},pn=e=>{if(typeof e=="object"&&e!==null){const t={};for(const r of hn)typeof e[r]=="string"&&(t[r]=e[r]);return t}return{message:String(e)}},dt="External signal was aborted",ft=(()=>{function e(t,r,a){const l=G(t+"/fulfilled",(A,w,M,R)=>({payload:A,meta:{...R||{},arg:M,requestId:w,requestStatus:"fulfilled"}})),v=G(t+"/pending",(A,w,M)=>({payload:void 0,meta:{...M||{},arg:w,requestId:A,requestStatus:"pending"}})),b=G(t+"/rejected",(A,w,M,R,g)=>({payload:R,error:(a&&a.serializeError||pn)(A||"Rejected"),meta:{...g||{},arg:M,requestId:w,rejectedWithValue:!!R,requestStatus:"rejected",aborted:(A==null?void 0:A.name)==="AbortError",condition:(A==null?void 0:A.name)==="ConditionError"}}));function P(A,{signal:w}={}){return(M,R,g)=>{const p=a!=null&&a.idGenerator?a.idGenerator(A):tt(),Q=new AbortController;let q,I;function m(f){I=f,Q.abort()}w&&(w.aborted?m(dt):w.addEventListener("abort",()=>m(dt),{once:!0}));const D=async function(){var i,y;let f;try{let S=(i=a==null?void 0:a.condition)==null?void 0:i.call(a,A,{getState:R,extra:g});if(gn(S)&&(S=await S),S===!1||Q.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const E=new Promise((u,s)=>{q=()=>{s({name:"AbortError",message:I||"Aborted"})},Q.signal.addEventListener("abort",q)});M(v(p,A,(y=a==null?void 0:a.getPendingMeta)==null?void 0:y.call(a,{requestId:p,arg:A},{getState:R,extra:g}))),f=await Promise.race([E,Promise.resolve(r(A,{dispatch:M,getState:R,extra:g,requestId:p,signal:Q.signal,abort:m,rejectWithValue:(u,s)=>new ze(u,s),fulfillWithValue:(u,s)=>new lt(u,s)})).then(u=>{if(u instanceof ze)throw u;return u instanceof lt?l(u.payload,p,A,u.meta):l(u,p,A)})])}catch(S){f=S instanceof ze?b(null,p,A,S.payload,S.meta):b(S,p,A)}finally{q&&Q.signal.removeEventListener("abort",q)}return a&&!a.dispatchConditionRejection&&b.match(f)&&f.meta.condition||M(f),f}();return Object.assign(D,{abort:m,requestId:p,arg:A,unwrap(){return D.then(yn)}})}}return Object.assign(P,{pending:v,rejected:b,fulfilled:l,settled:ne(b,l),typePrefix:t})}return e.withTypes=()=>e,e})();function yn(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function gn(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var mn=Symbol.for("rtk-slice-createasyncthunk");function bn(e,t){return`${e}/${t}`}function vn({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[mn];return function(l){const{name:v,reducerPath:b=v}=l;if(!v)throw new Error(X(11));const P=(typeof l.reducers=="function"?l.reducers(wn()):l.reducers)||{},A=Object.keys(P),w={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},M={addCase(n,i){const y=typeof n=="string"?n:n.type;if(!y)throw new Error(X(12));if(y in w.sliceCaseReducersByType)throw new Error(X(13));return w.sliceCaseReducersByType[y]=i,M},addMatcher(n,i){return w.sliceMatchers.push({matcher:n,reducer:i}),M},exposeAction(n,i){return w.actionCreators[n]=i,M},exposeCaseReducer(n,i){return w.sliceCaseReducersByName[n]=i,M}};A.forEach(n=>{const i=P[n],y={reducerName:n,type:bn(v,n),createNotation:typeof l.reducers=="function"};Rn(i)?An(y,i,M,t):En(y,i,M)});function R(){const[n={},i=[],y=void 0]=typeof l.extraReducers=="function"?Ot(l.extraReducers):[l.extraReducers],S={...n,...w.sliceCaseReducersByType};return dn(l.initialState,E=>{for(let u in S)E.addCase(u,S[u]);for(let u of w.sliceMatchers)E.addMatcher(u.matcher,u.reducer);for(let u of i)E.addMatcher(u.matcher,u.reducer);y&&E.addDefaultCase(y)})}const g=n=>n,p=new Map,Q=new WeakMap;let q;function I(n,i){return q||(q=R()),q(n,i)}function m(){return q||(q=R()),q.getInitialState()}function D(n,i=!1){function y(E){let u=E[n];return typeof u>"u"&&i&&(u=Me(Q,y,m)),u}function S(E=g){const u=Me(p,i,()=>new WeakMap);return Me(u,E,()=>{const s={};for(const[o,c]of Object.entries(l.selectors??{}))s[o]=Sn(c,E,()=>Me(Q,E,m),i);return s})}return{reducerPath:n,getSelectors:S,get selectors(){return S(y)},selectSlice:y}}const f={name:v,reducer:I,actions:w.actionCreators,caseReducers:w.sliceCaseReducersByName,getInitialState:m,...D(b),injectInto(n,{reducerPath:i,...y}={}){const S=i??b;return n.inject({reducerPath:S,reducer:I},y),{...f,...D(S,!0)}}};return f}}function Sn(e,t,r,a){function l(v,...b){let P=t(v);return typeof P>"u"&&a&&(P=r()),e(P,...b)}return l.unwrapped=e,l}var ce=vn();function wn(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function En({type:e,reducerName:t,createNotation:r},a,l){let v,b;if("reducer"in a){if(r&&!Mn(a))throw new Error(X(17));v=a.reducer,b=a.prepare}else v=a;l.addCase(e,v).exposeCaseReducer(t,v).exposeAction(t,b?G(e,b):G(e))}function Rn(e){return e._reducerDefinitionType==="asyncThunk"}function Mn(e){return e._reducerDefinitionType==="reducerWithPrepare"}function An({type:e,reducerName:t},r,a,l){if(!l)throw new Error(X(18));const{payloadCreator:v,fulfilled:b,pending:P,rejected:A,settled:w,options:M}=r,R=l(e,v,M);a.exposeAction(t,R),b&&a.addCase(R.fulfilled,b),P&&a.addCase(R.pending,P),A&&a.addCase(R.rejected,A),w&&a.addMatcher(R.settled,w),a.exposeCaseReducer(t,{fulfilled:b||Ae,pending:P||Ae,rejected:A||Ae,settled:w||Ae})}function Ae(){}function X(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Tt=(e=>(e.uninitialized="uninitialized",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected",e))(Tt||{});function ht(e){return{status:e,isUninitialized:e==="uninitialized",isLoading:e==="pending",isSuccess:e==="fulfilled",isError:e==="rejected"}}var pt=de;function kt(e,t){if(e===t||!(pt(e)&&pt(t)||Array.isArray(e)&&Array.isArray(t)))return t;const r=Object.keys(t),a=Object.keys(e);let l=r.length===a.length;const v=Array.isArray(t)?[]:{};for(const b of r)v[b]=kt(e[b],t[b]),l&&(l=e[b]===v[b]);return l?e:v}function le(e){let t=0;for(const r in e)t++;return t}var yt=e=>[].concat(...e);function Pn(e){return new RegExp("(^|:)//").test(e)}function In(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function Ce(e){return e!=null}function Qn(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}var qn=e=>e.replace(/\/$/,""),Cn=e=>e.replace(/^\//,"");function On(e,t){if(!e)return t;if(!t)return e;if(Pn(t))return t;const r=e.endsWith("/")||!t.startsWith("?")?"/":"";return e=qn(e),t=Cn(t),`${e}${r}${t}`}function Dn(e,t,r){return e.has(t)?e.get(t):e.set(t,r).get(t)}var gt=(...e)=>fetch(...e),Tn=e=>e.status>=200&&e.status<=299,kn=e=>/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"");function mt(e){if(!de(e))return e;const t={...e};for(const[r,a]of Object.entries(t))a===void 0&&delete t[r];return t}function Sr({baseUrl:e,prepareHeaders:t=R=>R,fetchFn:r=gt,paramsSerializer:a,isJsonContentType:l=kn,jsonContentType:v="application/json",jsonReplacer:b,timeout:P,responseHandler:A,validateStatus:w,...M}={}){return typeof fetch>"u"&&r===gt&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(g,p,Q)=>{const{getState:q,extra:I,endpoint:m,forced:D,type:f}=p;let n,{url:i,headers:y=new Headers(M.headers),params:S=void 0,responseHandler:E=A??"json",validateStatus:u=w??Tn,timeout:s=P,...o}=typeof g=="string"?{url:g}:g,c,d=p.signal;s&&(c=new AbortController,p.signal.addEventListener("abort",c.abort),d=c.signal);let h={...M,signal:d,...o};y=new Headers(mt(y)),h.headers=await t(y,{getState:q,arg:g,extra:I,endpoint:m,forced:D,type:f,extraOptions:Q})||y;const C=N=>typeof N=="object"&&(de(N)||Array.isArray(N)||typeof N.toJSON=="function");if(!h.headers.has("content-type")&&C(h.body)&&h.headers.set("content-type",v),C(h.body)&&l(h.headers)&&(h.body=JSON.stringify(h.body,b)),S){const N=~i.indexOf("?")?"&":"?",j=a?a(S):new URLSearchParams(mt(S));i+=N+j}i=On(e,i);const O=new Request(i,h);n={request:new Request(i,h)};let _,T=!1,F=c&&setTimeout(()=>{T=!0,c.abort()},s);try{_=await r(O)}catch(N){return{error:{status:T?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(N)},meta:n}}finally{F&&clearTimeout(F),c==null||c.signal.removeEventListener("abort",c.abort)}const U=_.clone();n.response=U;let z,H="";try{let N;if(await Promise.all([R(_,E).then(j=>z=j,j=>N=j),U.text().then(j=>H=j,()=>{})]),N)throw N}catch(N){return{error:{status:"PARSING_ERROR",originalStatus:_.status,data:H,error:String(N)},meta:n}}return u(_,z)?{data:z,meta:n}:{error:{status:_.status,data:z},meta:n}};async function R(g,p){if(typeof p=="function")return p(g);if(p==="content-type"&&(p=l(g.headers)?"json":"text"),p==="json"){const Q=await g.text();return Q.length?JSON.parse(Q):null}return g.text()}}var bt=class{constructor(e,t=void 0){this.value=e,this.meta=t}},_e=G("__rtkq/focused"),nt=G("__rtkq/unfocused"),Fe=G("__rtkq/online"),rt=G("__rtkq/offline"),Be=!1;function wr(e,t){function r(){const a=()=>e(_e()),l=()=>e(nt()),v=()=>e(Fe()),b=()=>e(rt()),P=()=>{window.document.visibilityState==="visible"?a():l()};return Be||typeof window<"u"&&window.addEventListener&&(window.addEventListener("visibilitychange",P,!1),window.addEventListener("focus",a,!1),window.addEventListener("online",v,!1),window.addEventListener("offline",b,!1),Be=!0),()=>{window.removeEventListener("focus",a),window.removeEventListener("visibilitychange",P),window.removeEventListener("online",v),window.removeEventListener("offline",b),Be=!1}}return r()}function Le(e){return e.type==="query"}function jn(e){return e.type==="mutation"}function Ue(e){return e.type==="infinitequery"}function Oe(e){return Le(e)||Ue(e)}function it(e,t,r,a,l,v){return _n(e)?e(t,r,a,l).filter(Ce).map(Ge).map(v):Array.isArray(e)?e.map(Ge).map(v):[]}function _n(e){return typeof e=="function"}function Ge(e){return typeof e=="string"?{type:e}:e}function Fn(e,t){return e.catch(t)}var Se=Symbol("forceQueryFn"),Xe=e=>typeof e[Se]=="function";function Ln({serializeQueryArgs:e,queryThunk:t,infiniteQueryThunk:r,mutationThunk:a,api:l,context:v}){const b=new Map,P=new Map,{unsubscribeQueryResult:A,removeMutationResult:w,updateSubscriptionOptions:M}=l.internalActions;return{buildInitiateQuery:I,buildInitiateInfiniteQuery:m,buildInitiateMutation:D,getRunningQueryThunk:R,getRunningMutationThunk:g,getRunningQueriesThunk:p,getRunningMutationsThunk:Q};function R(f,n){return i=>{var E;const y=v.endpointDefinitions[f],S=e({queryArgs:n,endpointDefinition:y,endpointName:f});return(E=b.get(i))==null?void 0:E[S]}}function g(f,n){return i=>{var y;return(y=P.get(i))==null?void 0:y[n]}}function p(){return f=>Object.values(b.get(f)||{}).filter(Ce)}function Q(){return f=>Object.values(P.get(f)||{}).filter(Ce)}function q(f,n){const i=(y,{subscribe:S=!0,forceRefetch:E,subscriptionOptions:u,[Se]:s,...o}={})=>(c,d)=>{var V;const h=e({queryArgs:y,endpointDefinition:n,endpointName:f});let C;const O={...o,type:"query",subscribe:S,forceRefetch:E,subscriptionOptions:u,endpointName:f,originalArgs:y,queryCacheKey:h,[Se]:s};if(Le(n))C=t(O);else{const{direction:x,initialPageParam:W}=o;C=r({...O,direction:x,initialPageParam:W})}const k=l.endpoints[f].select(y),_=c(C),T=k(d()),{requestId:F,abort:U}=_,z=T.requestId!==F,H=(V=b.get(c))==null?void 0:V[h],N=()=>k(d()),j=Object.assign(s?_.then(N):z&&!H?Promise.resolve(T):Promise.all([H,_]).then(N),{arg:y,requestId:F,subscriptionOptions:u,queryCacheKey:h,abort:U,async unwrap(){const x=await j;if(x.isError)throw x.error;return x.data},refetch:()=>c(i(y,{subscribe:!1,forceRefetch:!0})),unsubscribe(){S&&c(A({queryCacheKey:h,requestId:F}))},updateSubscriptionOptions(x){j.subscriptionOptions=x,c(M({endpointName:f,requestId:F,queryCacheKey:h,options:x}))}});if(!H&&!z&&!s){const x=Dn(b,c,{});x[h]=j,j.then(()=>{delete x[h],le(x)||b.delete(c)})}return j};return i}function I(f,n){return q(f,n)}function m(f,n){return q(f,n)}function D(f){return(n,{track:i=!0,fixedCacheKey:y}={})=>(S,E)=>{const u=a({type:"mutation",endpointName:f,originalArgs:n,track:i,fixedCacheKey:y}),s=S(u),{requestId:o,abort:c,unwrap:d}=s,h=Fn(s.unwrap().then(_=>({data:_})),_=>({error:_})),C=()=>{S(w({requestId:o,fixedCacheKey:y}))},O=Object.assign(h,{arg:s.arg,requestId:o,abort:c,unwrap:d,reset:C}),k=P.get(S)||{};return P.set(S,k),k[o]=O,O.then(()=>{delete k[o],le(k)||P.delete(S)}),y&&(k[y]=O,O.then(()=>{k[y]===O&&(delete k[y],le(k)||P.delete(S))})),O}}}var jt=class extends Yt{constructor(e,t,r,a){super(e),this.value=t,this.schemaName=r,this._bqMeta=a}};async function se(e,t,r,a){const l=await e["~standard"].validate(t);if(l.issues)throw new jt(l.issues,t,r,a);return l.value}function Un(e){return e}var ye=(e={})=>({...e,[Te]:!0});function xn({reducerPath:e,baseQuery:t,context:{endpointDefinitions:r},serializeQueryArgs:a,api:l,assertTagType:v,selectors:b,onSchemaFailure:P,catchSchemaFailure:A,skipSchemaValidation:w}){const M=(o,c,d,h)=>(C,O)=>{const k=r[o],_=a({queryArgs:c,endpointDefinition:k,endpointName:o});if(C(l.internalActions.queryResultPatched({queryCacheKey:_,patches:d})),!h)return;const T=l.endpoints[o].select(c)(O()),F=it(k.providesTags,T.data,void 0,c,{},v);C(l.internalActions.updateProvidedBy([{queryCacheKey:_,providedTags:F}]))};function R(o,c,d=0){const h=[c,...o];return d&&h.length>d?h.slice(0,-1):h}function g(o,c,d=0){const h=[...o,c];return d&&h.length>d?h.slice(1):h}const p=(o,c,d,h=!0)=>(C,O)=>{const _=l.endpoints[o].select(c)(O()),T={patches:[],inversePatches:[],undo:()=>C(l.util.patchQueryData(o,c,T.inversePatches,h))};if(_.status==="uninitialized")return T;let F;if("data"in _)if(Ze(_.data)){const[U,z,H]=Qt(_.data,d);T.patches.push(...z),T.inversePatches.push(...H),F=U}else F=d(_.data),T.patches.push({op:"replace",path:[],value:F}),T.inversePatches.push({op:"replace",path:[],value:_.data});return T.patches.length===0||C(l.util.patchQueryData(o,c,T.patches,h)),T},Q=(o,c,d)=>h=>h(l.endpoints[o].initiate(c,{subscribe:!1,forceRefetch:!0,[Se]:()=>({data:d})})),q=(o,c)=>o.query&&o[c]?o[c]:Un,I=async(o,{signal:c,abort:d,rejectWithValue:h,fulfillWithValue:C,dispatch:O,getState:k,extra:_})=>{var z,H;const T=r[o.endpointName],{metaSchema:F,skipSchemaValidation:U=w}=T;try{let N=q(T,"transformResponse");const j={signal:c,abort:d,dispatch:O,getState:k,extra:_,endpoint:o.endpointName,type:o.type,forced:o.type==="query"?m(o,k()):void 0,queryCacheKey:o.type==="query"?o.queryCacheKey:void 0},V=o.type==="query"?o[Se]:void 0;let x;const W=async($,B,K,oe)=>{if(B==null&&$.pages.length)return Promise.resolve({data:$});const Y={queryArg:o.originalArgs,pageParam:B},ue=await ee(Y),Z=oe?R:g;return{data:{pages:Z($.pages,ue.data,K),pageParams:Z($.pageParams,B,K)},meta:ue.meta}};async function ee($){let B;const{extraOptions:K,argSchema:oe,rawResponseSchema:Y,responseSchema:ue}=T;if(oe&&!U&&($=await se(oe,$,"argSchema",{})),V?B=V():T.query?B=await t(T.query($),j,K):B=await T.queryFn($,j,K,he=>t(he,j,K)),typeof process<"u",B.error)throw new bt(B.error,B.meta);let{data:Z}=B;Y&&!U&&(Z=await se(Y,B.data,"rawResponseSchema",B.meta));let re=await N(Z,B.meta,$);return ue&&!U&&(re=await se(ue,re,"responseSchema",B.meta)),{...B,data:re}}if(o.type==="query"&&"infiniteQueryOptions"in T){const{infiniteQueryOptions:$}=T,{maxPages:B=1/0}=$;let K;const oe={pages:[],pageParams:[]},Y=(z=b.selectQueryEntry(k(),o.queryCacheKey))==null?void 0:z.data,Z=m(o,k())&&!o.direction||!Y?oe:Y;if("direction"in o&&o.direction&&Z.pages.length){const re=o.direction==="backward",xe=(re?_t:Ye)($,Z,o.originalArgs);K=await W(Z,xe,B,re)}else{const{initialPageParam:re=$.initialPageParam}=o,he=(Y==null?void 0:Y.pageParams)??[],xe=he[0]??re,zt=he.length;K=await W(Z,xe,B),V&&(K={data:K.data.pages[0]});for(let st=1;st<zt;st++){const Bt=Ye($,K.data,o.originalArgs);K=await W(K.data,Bt,B)}}x=K}else x=await ee(o.originalArgs);return F&&!U&&x.meta&&(x.meta=await se(F,x.meta,"metaSchema",x.meta)),C(x.data,ye({fulfilledTimeStamp:Date.now(),baseQueryMeta:x.meta}))}catch(N){let j=N;if(j instanceof bt){let V=q(T,"transformErrorResponse");const{rawErrorResponseSchema:x,errorResponseSchema:W}=T;let{value:ee,meta:$}=j;try{x&&!U&&(ee=await se(x,ee,"rawErrorResponseSchema",$)),F&&!U&&($=await se(F,$,"metaSchema",$));let B=await V(ee,$,o.originalArgs);return W&&!U&&(B=await se(W,B,"errorResponseSchema",$)),h(B,ye({baseQueryMeta:$}))}catch(B){j=B}}try{if(j instanceof jt){const V={endpoint:o.endpointName,arg:o.originalArgs,type:o.type,queryCacheKey:o.type==="query"?o.queryCacheKey:void 0};(H=T.onSchemaFailure)==null||H.call(T,j,V),P==null||P(j,V);const{catchSchemaFailure:x=A}=T;if(x)return h(x(j,V),ye({baseQueryMeta:j._bqMeta}))}}catch(V){j=V}throw console.error(j),j}};function m(o,c){const d=b.selectQueryEntry(c,o.queryCacheKey),h=b.selectConfig(c).refetchOnMountOrArgChange,C=d==null?void 0:d.fulfilledTimeStamp,O=o.forceRefetch??(o.subscribe&&h);return O?O===!0||(Number(new Date)-Number(C))/1e3>=O:!1}const D=()=>ft(`${e}/executeQuery`,I,{getPendingMeta({arg:c}){const d=r[c.endpointName];return ye({startedTimeStamp:Date.now(),...Ue(d)?{direction:c.direction}:{}})},condition(c,{getState:d}){var U;const h=d(),C=b.selectQueryEntry(h,c.queryCacheKey),O=C==null?void 0:C.fulfilledTimeStamp,k=c.originalArgs,_=C==null?void 0:C.originalArgs,T=r[c.endpointName],F=c.direction;return Xe(c)?!0:(C==null?void 0:C.status)==="pending"?!1:m(c,h)||Le(T)&&((U=T==null?void 0:T.forceRefetch)!=null&&U.call(T,{currentArg:k,previousArg:_,endpointState:C,state:h}))?!0:!(O&&!F)},dispatchConditionRejection:!0}),f=D(),n=D(),i=ft(`${e}/executeMutation`,I,{getPendingMeta(){return ye({startedTimeStamp:Date.now()})}}),y=o=>"force"in o,S=o=>"ifOlderThan"in o,E=(o,c,d)=>(h,C)=>{const O=y(d)&&d.force,k=S(d)&&d.ifOlderThan,_=(F=!0)=>{const U={forceRefetch:F,isPrefetch:!0};return l.endpoints[o].initiate(c,U)},T=l.endpoints[o].select(c)(C());if(O)h(_());else if(k){const F=T==null?void 0:T.fulfilledTimeStamp;if(!F){h(_());return}(Number(new Date)-Number(new Date(F)))/1e3>=k&&h(_())}else h(_(!1))};function u(o){return c=>{var d,h;return((h=(d=c==null?void 0:c.meta)==null?void 0:d.arg)==null?void 0:h.endpointName)===o}}function s(o,c){return{matchPending:ve(et(o),u(c)),matchFulfilled:ve(ie(o),u(c)),matchRejected:ve(fe(o),u(c))}}return{queryThunk:f,mutationThunk:i,infiniteQueryThunk:n,prefetch:E,updateQueryData:p,upsertQueryData:Q,patchQueryData:M,buildMatchThunkActions:s}}function Ye(e,{pages:t,pageParams:r},a){const l=t.length-1;return e.getNextPageParam(t[l],t,r[l],r,a)}function _t(e,{pages:t,pageParams:r},a){var l;return(l=e.getPreviousPageParam)==null?void 0:l.call(e,t[0],t,r[0],r,a)}function Ft(e,t,r,a){return it(r[e.meta.arg.endpointName][t],ie(e)?e.payload:void 0,je(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,a)}function Pe(e,t,r){const a=e[t];a&&r(a)}function we(e){return("arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)??e.requestId}function vt(e,t,r){const a=e[we(t)];a&&r(a)}var Ie={};function Nn({reducerPath:e,queryThunk:t,mutationThunk:r,serializeQueryArgs:a,context:{endpointDefinitions:l,apiUid:v,extractRehydrationInfo:b,hasRehydrationInfo:P},assertTagType:A,config:w}){const M=G(`${e}/resetApiState`);function R(u,s,o,c){var d;u[d=s.queryCacheKey]??(u[d]={status:"uninitialized",endpointName:s.endpointName}),Pe(u,s.queryCacheKey,h=>{h.status="pending",h.requestId=o&&h.requestId?h.requestId:c.requestId,s.originalArgs!==void 0&&(h.originalArgs=s.originalArgs),h.startedTimeStamp=c.startedTimeStamp;const C=l[c.arg.endpointName];Ue(C)&&"direction"in s&&(h.direction=s.direction)})}function g(u,s,o,c){Pe(u,s.arg.queryCacheKey,d=>{if(d.requestId!==s.requestId&&!c)return;const{merge:h}=l[s.arg.endpointName];if(d.status="fulfilled",h)if(d.data!==void 0){const{fulfilledTimeStamp:C,arg:O,baseQueryMeta:k,requestId:_}=s;let T=Ee(d.data,F=>h(F,o,{arg:O.originalArgs,baseQueryMeta:k,fulfilledTimeStamp:C,requestId:_}));d.data=T}else d.data=o;else d.data=l[s.arg.endpointName].structuralSharing??!0?kt(It(d.data)?Jt(d.data):d.data,o):o;delete d.error,d.fulfilledTimeStamp=s.fulfilledTimeStamp})}const p=ce({name:`${e}/queries`,initialState:Ie,reducers:{removeQueryResult:{reducer(u,{payload:{queryCacheKey:s}}){delete u[s]},prepare:pe()},cacheEntriesUpserted:{reducer(u,s){for(const o of s.payload){const{queryDescription:c,value:d}=o;R(u,c,!0,{arg:c,requestId:s.meta.requestId,startedTimeStamp:s.meta.timestamp}),g(u,{arg:c,requestId:s.meta.requestId,fulfilledTimeStamp:s.meta.timestamp,baseQueryMeta:{}},d,!0)}},prepare:u=>({payload:u.map(c=>{const{endpointName:d,arg:h,value:C}=c,O=l[d];return{queryDescription:{type:"query",endpointName:d,originalArgs:c.arg,queryCacheKey:a({queryArgs:h,endpointDefinition:O,endpointName:d})},value:C}}),meta:{[Te]:!0,requestId:tt(),timestamp:Date.now()}})},queryResultPatched:{reducer(u,{payload:{queryCacheKey:s,patches:o}}){Pe(u,s,c=>{c.data=ot(c.data,o.concat())})},prepare:pe()}},extraReducers(u){u.addCase(t.pending,(s,{meta:o,meta:{arg:c}})=>{const d=Xe(c);R(s,c,d,o)}).addCase(t.fulfilled,(s,{meta:o,payload:c})=>{const d=Xe(o.arg);g(s,o,c,d)}).addCase(t.rejected,(s,{meta:{condition:o,arg:c,requestId:d},error:h,payload:C})=>{Pe(s,c.queryCacheKey,O=>{if(!o){if(O.requestId!==d)return;O.status="rejected",O.error=C??h}})}).addMatcher(P,(s,o)=>{const{queries:c}=b(o);for(const[d,h]of Object.entries(c))((h==null?void 0:h.status)==="fulfilled"||(h==null?void 0:h.status)==="rejected")&&(s[d]=h)})}}),Q=ce({name:`${e}/mutations`,initialState:Ie,reducers:{removeMutationResult:{reducer(u,{payload:s}){const o=we(s);o in u&&delete u[o]},prepare:pe()}},extraReducers(u){u.addCase(r.pending,(s,{meta:o,meta:{requestId:c,arg:d,startedTimeStamp:h}})=>{d.track&&(s[we(o)]={requestId:c,status:"pending",endpointName:d.endpointName,startedTimeStamp:h})}).addCase(r.fulfilled,(s,{payload:o,meta:c})=>{c.arg.track&&vt(s,c,d=>{d.requestId===c.requestId&&(d.status="fulfilled",d.data=o,d.fulfilledTimeStamp=c.fulfilledTimeStamp)})}).addCase(r.rejected,(s,{payload:o,error:c,meta:d})=>{d.arg.track&&vt(s,d,h=>{h.requestId===d.requestId&&(h.status="rejected",h.error=o??c)})}).addMatcher(P,(s,o)=>{const{mutations:c}=b(o);for(const[d,h]of Object.entries(c))((h==null?void 0:h.status)==="fulfilled"||(h==null?void 0:h.status)==="rejected")&&d!==(h==null?void 0:h.requestId)&&(s[d]=h)})}}),q={tags:{},keys:{}},I=ce({name:`${e}/invalidation`,initialState:q,reducers:{updateProvidedBy:{reducer(u,s){var o,c,d;for(const{queryCacheKey:h,providedTags:C}of s.payload){m(u,h);for(const{type:O,id:k}of C){const _=(c=(o=u.tags)[O]??(o[O]={}))[d=k||"__internal_without_id"]??(c[d]=[]);_.includes(h)||_.push(h)}u.keys[h]=C}},prepare:pe()}},extraReducers(u){u.addCase(p.actions.removeQueryResult,(s,{payload:{queryCacheKey:o}})=>{m(s,o)}).addMatcher(P,(s,o)=>{var d,h,C;const{provided:c}=b(o);for(const[O,k]of Object.entries(c))for(const[_,T]of Object.entries(k)){const F=(h=(d=s.tags)[O]??(d[O]={}))[C=_||"__internal_without_id"]??(h[C]=[]);for(const U of T)F.includes(U)||F.push(U)}}).addMatcher(ne(ie(t),je(t)),(s,o)=>{D(s,[o])}).addMatcher(p.actions.cacheEntriesUpserted.match,(s,o)=>{const c=o.payload.map(({queryDescription:d,value:h})=>({type:"UNKNOWN",payload:h,meta:{requestStatus:"fulfilled",requestId:"UNKNOWN",arg:d}}));D(s,c)})}});function m(u,s){var c;const o=u.keys[s]??[];for(const d of o){const h=d.type,C=d.id??"__internal_without_id",O=(c=u.tags[h])==null?void 0:c[C];O&&(u.tags[h][C]=O.filter(k=>k!==s))}delete u.keys[s]}function D(u,s){const o=s.map(c=>{const d=Ft(c,"providesTags",l,A),{queryCacheKey:h}=c.meta.arg;return{queryCacheKey:h,providedTags:d}});I.caseReducers.updateProvidedBy(u,I.actions.updateProvidedBy(o))}const f=ce({name:`${e}/subscriptions`,initialState:Ie,reducers:{updateSubscriptionOptions(u,s){},unsubscribeQueryResult(u,s){},internal_getRTKQSubscriptions(){}}}),n=ce({name:`${e}/internalSubscriptions`,initialState:Ie,reducers:{subscriptionsUpdated:{reducer(u,s){return ot(u,s.payload)},prepare:pe()}}}),i=ce({name:`${e}/config`,initialState:{online:Qn(),focused:In(),middlewareRegistered:!1,...w},reducers:{middlewareRegistered(u,{payload:s}){u.middlewareRegistered=u.middlewareRegistered==="conflict"||v!==s?"conflict":!0}},extraReducers:u=>{u.addCase(Fe,s=>{s.online=!0}).addCase(rt,s=>{s.online=!1}).addCase(_e,s=>{s.focused=!0}).addCase(nt,s=>{s.focused=!1}).addMatcher(P,s=>({...s}))}}),y=Pt({queries:p.reducer,mutations:Q.reducer,provided:I.reducer,subscriptions:n.reducer,config:i.reducer}),S=(u,s)=>y(M.match(s)?void 0:u,s),E={...i.actions,...p.actions,...f.actions,...n.actions,...Q.actions,...I.actions,resetApiState:M};return{reducer:S,actions:E}}var J=Symbol.for("RTKQ/skipToken"),Lt={status:"uninitialized"},St=Ee(Lt,()=>{}),wt=Ee(Lt,()=>{});function zn({serializeQueryArgs:e,reducerPath:t,createSelector:r}){const a=f=>St,l=f=>wt;return{buildQuerySelector:g,buildInfiniteQuerySelector:p,buildMutationSelector:Q,selectInvalidatedBy:q,selectCachedArgsForQuery:I,selectApiState:b,selectQueries:P,selectMutations:w,selectQueryEntry:A,selectConfig:M};function v(f){return{...f,...ht(f.status)}}function b(f){return f[t]}function P(f){var n;return(n=b(f))==null?void 0:n.queries}function A(f,n){var i;return(i=P(f))==null?void 0:i[n]}function w(f){var n;return(n=b(f))==null?void 0:n.mutations}function M(f){var n;return(n=b(f))==null?void 0:n.config}function R(f,n,i){return y=>{if(y===J)return r(a,i);const S=e({queryArgs:y,endpointDefinition:n,endpointName:f});return r(u=>A(u,S)??St,i)}}function g(f,n){return R(f,n,v)}function p(f,n){const{infiniteQueryOptions:i}=n;function y(S){const E={...S,...ht(S.status)},{isLoading:u,isError:s,direction:o}=E,c=o==="forward",d=o==="backward";return{...E,hasNextPage:m(i,E.data,E.originalArgs),hasPreviousPage:D(i,E.data,E.originalArgs),isFetchingNextPage:u&&c,isFetchingPreviousPage:u&&d,isFetchNextPageError:s&&c,isFetchPreviousPageError:s&&d}}return R(f,n,y)}function Q(){return f=>{let n;return typeof f=="object"?n=we(f)??J:n=f,r(n===J?l:S=>{var E,u;return((u=(E=b(S))==null?void 0:E.mutations)==null?void 0:u[n])??wt},v)}}function q(f,n){const i=f[t],y=new Set;for(const S of n.filter(Ce).map(Ge)){const E=i.provided.tags[S.type];if(!E)continue;let u=(S.id!==void 0?E[S.id]:yt(Object.values(E)))??[];for(const s of u)y.add(s)}return yt(Array.from(y.values()).map(S=>{const E=i.queries[S];return E?[{queryCacheKey:S,endpointName:E.endpointName,originalArgs:E.originalArgs}]:[]}))}function I(f,n){return Object.values(P(f)).filter(i=>(i==null?void 0:i.endpointName)===n&&i.status!=="uninitialized").map(i=>i.originalArgs)}function m(f,n,i){return n?Ye(f,n,i)!=null:!1}function D(f,n,i){return!n||!f.getPreviousPageParam?!1:_t(f,n,i)!=null}}var ae=WeakMap?new WeakMap:void 0,De=({endpointName:e,queryArgs:t})=>{let r="";const a=ae==null?void 0:ae.get(t);if(typeof a=="string")r=a;else{const l=JSON.stringify(t,(v,b)=>(b=typeof b=="bigint"?{$bigint:b.toString()}:b,b=de(b)?Object.keys(b).sort().reduce((P,A)=>(P[A]=b[A],P),{}):b,b));de(t)&&(ae==null||ae.set(t,l)),r=l}return`${e}(${r})`};function Ut(...e){return function(r){const a=ut(w=>{var M;return(M=r.extractRehydrationInfo)==null?void 0:M.call(r,w,{reducerPath:r.reducerPath??"api"})}),l={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...r,extractRehydrationInfo:a,serializeQueryArgs(w){let M=De;if("serializeQueryArgs"in w.endpointDefinition){const R=w.endpointDefinition.serializeQueryArgs;M=g=>{const p=R(g);return typeof p=="string"?p:De({...g,queryArgs:p})}}else r.serializeQueryArgs&&(M=r.serializeQueryArgs);return M(w)},tagTypes:[...r.tagTypes||[]]},v={endpointDefinitions:{},batch(w){w()},apiUid:tt(),extractRehydrationInfo:a,hasRehydrationInfo:ut(w=>a(w)!=null)},b={injectEndpoints:A,enhanceEndpoints({addTagTypes:w,endpoints:M}){if(w)for(const R of w)l.tagTypes.includes(R)||l.tagTypes.push(R);if(M)for(const[R,g]of Object.entries(M))typeof g=="function"?g(v.endpointDefinitions[R]):Object.assign(v.endpointDefinitions[R]||{},g);return b}},P=e.map(w=>w.init(b,l,v));function A(w){const M=w.endpoints({query:R=>({...R,type:"query"}),mutation:R=>({...R,type:"mutation"}),infiniteQuery:R=>({...R,type:"infinitequery"})});for(const[R,g]of Object.entries(M)){if(w.overrideExisting!==!0&&R in v.endpointDefinitions){if(w.overrideExisting==="throw")throw new Error(X(39));continue}v.endpointDefinitions[R]=g;for(const p of P)p.injectEndpoint(R,g)}return b}return b.injectEndpoints({endpoints:r.endpoints})}}function te(e,...t){return Object.assign(e,...t)}var Bn=({api:e,queryThunk:t,internalState:r})=>{const a=`${e.reducerPath}/subscriptions`;let l=null,v=null;const{updateSubscriptionOptions:b,unsubscribeQueryResult:P}=e.internalActions,A=(p,Q)=>{var I,m,D;if(b.match(Q)){const{queryCacheKey:f,requestId:n,options:i}=Q.payload;return(I=p==null?void 0:p[f])!=null&&I[n]&&(p[f][n]=i),!0}if(P.match(Q)){const{queryCacheKey:f,requestId:n}=Q.payload;return p[f]&&delete p[f][n],!0}if(e.internalActions.removeQueryResult.match(Q))return delete p[Q.payload.queryCacheKey],!0;if(t.pending.match(Q)){const{meta:{arg:f,requestId:n}}=Q,i=p[m=f.queryCacheKey]??(p[m]={});return i[`${n}_running`]={},f.subscribe&&(i[n]=f.subscriptionOptions??i[n]??{}),!0}let q=!1;if(t.fulfilled.match(Q)||t.rejected.match(Q)){const f=p[Q.meta.arg.queryCacheKey]||{},n=`${Q.meta.requestId}_running`;q||(q=!!f[n]),delete f[n]}if(t.rejected.match(Q)){const{meta:{condition:f,arg:n,requestId:i}}=Q;if(f&&n.subscribe){const y=p[D=n.queryCacheKey]??(p[D]={});y[i]=n.subscriptionOptions??y[i]??{},q=!0}}return q},w=()=>r.currentSubscriptions,g={getSubscriptions:w,getSubscriptionCount:p=>{const q=w()[p]??{};return le(q)},isRequestSubscribed:(p,Q)=>{var I;const q=w();return!!((I=q==null?void 0:q[p])!=null&&I[Q])}};return(p,Q)=>{if(l||(l=JSON.parse(JSON.stringify(r.currentSubscriptions))),e.util.resetApiState.match(p))return l=r.currentSubscriptions={},v=null,[!0,!1];if(e.internalActions.internal_getRTKQSubscriptions.match(p))return[!1,g];const q=A(r.currentSubscriptions,p);let I=!0;if(q){v||(v=setTimeout(()=>{const f=JSON.parse(JSON.stringify(r.currentSubscriptions)),[,n]=Qt(l,()=>f);Q.next(e.internalActions.subscriptionsUpdated(n)),l=f,v=null},500));const m=typeof p.type=="string"&&!!p.type.startsWith(a),D=t.rejected.match(p)&&p.meta.condition&&!!p.meta.arg.subscribe;I=!m&&!D}return[I,!1]}};function Vn(e){for(const t in e)return!1;return!0}var $n=2147483647/1e3-1,Hn=({reducerPath:e,api:t,queryThunk:r,context:a,internalState:l,selectors:{selectQueryEntry:v,selectConfig:b}})=>{const{removeQueryResult:P,unsubscribeQueryResult:A,cacheEntriesUpserted:w}=t.internalActions,M=ne(A.match,r.fulfilled,r.rejected,w.match);function R(I){const m=l.currentSubscriptions[I];return!!m&&!Vn(m)}const g={},p=(I,m,D)=>{const f=m.getState(),n=b(f);if(M(I)){let i;if(w.match(I))i=I.payload.map(y=>y.queryDescription.queryCacheKey);else{const{queryCacheKey:y}=A.match(I)?I.payload:I.meta.arg;i=[y]}Q(i,m,n)}if(t.util.resetApiState.match(I))for(const[i,y]of Object.entries(g))y&&clearTimeout(y),delete g[i];if(a.hasRehydrationInfo(I)){const{queries:i}=a.extractRehydrationInfo(I);Q(Object.keys(i),m,n)}};function Q(I,m,D){const f=m.getState();for(const n of I){const i=v(f,n);q(n,i==null?void 0:i.endpointName,m,D)}}function q(I,m,D,f){const n=a.endpointDefinitions[m],i=(n==null?void 0:n.keepUnusedDataFor)??f.keepUnusedDataFor;if(i===1/0)return;const y=Math.max(0,Math.min(i,$n));if(!R(I)){const S=g[I];S&&clearTimeout(S),g[I]=setTimeout(()=>{R(I)||D.dispatch(P({queryCacheKey:I})),delete g[I]},y*1e3)}}return p},Et=new Error("Promise never resolved before cacheEntryRemoved."),Kn=({api:e,reducerPath:t,context:r,queryThunk:a,mutationThunk:l,internalState:v,selectors:{selectQueryEntry:b,selectApiState:P}})=>{const A=Je(a),w=Je(l),M=ie(a,l),R={};function g(m,D,f){const n=R[m];n!=null&&n.valueResolved&&(n.valueResolved({data:D,meta:f}),delete n.valueResolved)}function p(m){const D=R[m];D&&(delete R[m],D.cacheEntryRemoved())}const Q=(m,D,f)=>{const n=q(m);function i(y,S,E,u){const s=b(f,S),o=b(D.getState(),S);!s&&o&&I(y,u,S,D,E)}if(a.pending.match(m))i(m.meta.arg.endpointName,n,m.meta.requestId,m.meta.arg.originalArgs);else if(e.internalActions.cacheEntriesUpserted.match(m))for(const{queryDescription:y,value:S}of m.payload){const{endpointName:E,originalArgs:u,queryCacheKey:s}=y;i(E,s,m.meta.requestId,u),g(s,S,{})}else if(l.pending.match(m))D.getState()[t].mutations[n]&&I(m.meta.arg.endpointName,m.meta.arg.originalArgs,n,D,m.meta.requestId);else if(M(m))g(n,m.payload,m.meta.baseQueryMeta);else if(e.internalActions.removeQueryResult.match(m)||e.internalActions.removeMutationResult.match(m))p(n);else if(e.util.resetApiState.match(m))for(const y of Object.keys(R))p(y)};function q(m){return A(m)?m.meta.arg.queryCacheKey:w(m)?m.meta.arg.fixedCacheKey??m.meta.requestId:e.internalActions.removeQueryResult.match(m)?m.payload.queryCacheKey:e.internalActions.removeMutationResult.match(m)?we(m.payload):""}function I(m,D,f,n,i){const y=r.endpointDefinitions[m],S=y==null?void 0:y.onCacheEntryAdded;if(!S)return;const E={},u=new Promise(C=>{E.cacheEntryRemoved=C}),s=Promise.race([new Promise(C=>{E.valueResolved=C}),u.then(()=>{throw Et})]);s.catch(()=>{}),R[f]=E;const o=e.endpoints[m].select(Oe(y)?D:f),c=n.dispatch((C,O,k)=>k),d={...n,getCacheEntry:()=>o(n.getState()),requestId:i,extra:c,updateCachedData:Oe(y)?C=>n.dispatch(e.util.updateQueryData(m,D,C)):void 0,cacheDataLoaded:s,cacheEntryRemoved:u},h=S(D,d);Promise.resolve(h).catch(C=>{if(C!==Et)throw C})}return Q},Wn=({api:e,context:{apiUid:t},reducerPath:r})=>(a,l)=>{e.util.resetApiState.match(a)&&l.dispatch(e.internalActions.middlewareRegistered(t))},Jn=({reducerPath:e,context:t,context:{endpointDefinitions:r},mutationThunk:a,queryThunk:l,api:v,assertTagType:b,refetchQuery:P,internalState:A})=>{const{removeQueryResult:w}=v.internalActions,M=ne(ie(a),je(a)),R=ne(ie(a,l),fe(a,l));let g=[];const p=(I,m)=>{M(I)?q(Ft(I,"invalidatesTags",r,b),m):R(I)?q([],m):v.util.invalidateTags.match(I)&&q(it(I.payload,void 0,void 0,void 0,void 0,b),m)};function Q(I){var f;const{queries:m,mutations:D}=I;for(const n of[m,D])for(const i in n)if(((f=n[i])==null?void 0:f.status)==="pending")return!0;return!1}function q(I,m){const D=m.getState(),f=D[e];if(g.push(...I),f.config.invalidationBehavior==="delayed"&&Q(f))return;const n=g;if(g=[],n.length===0)return;const i=v.util.selectInvalidatedBy(D,n);t.batch(()=>{const y=Array.from(i.values());for(const{queryCacheKey:S}of y){const E=f.queries[S],u=A.currentSubscriptions[S]??{};E&&(le(u)===0?m.dispatch(w({queryCacheKey:S})):E.status!=="uninitialized"&&m.dispatch(P(E)))}})}return p},Gn=({reducerPath:e,queryThunk:t,api:r,refetchQuery:a,internalState:l})=>{const v={},b=(g,p)=>{(r.internalActions.updateSubscriptionOptions.match(g)||r.internalActions.unsubscribeQueryResult.match(g))&&A(g.payload,p),(t.pending.match(g)||t.rejected.match(g)&&g.meta.condition)&&A(g.meta.arg,p),(t.fulfilled.match(g)||t.rejected.match(g)&&!g.meta.condition)&&P(g.meta.arg,p),r.util.resetApiState.match(g)&&M()};function P({queryCacheKey:g},p){const Q=p.getState()[e],q=Q.queries[g],I=l.currentSubscriptions[g];if(!q||q.status==="uninitialized")return;const{lowestPollingInterval:m,skipPollingIfUnfocused:D}=R(I);if(!Number.isFinite(m))return;const f=v[g];f!=null&&f.timeout&&(clearTimeout(f.timeout),f.timeout=void 0);const n=Date.now()+m;v[g]={nextPollTimestamp:n,pollingInterval:m,timeout:setTimeout(()=>{(Q.config.focused||!D)&&p.dispatch(a(q)),P({queryCacheKey:g},p)},m)}}function A({queryCacheKey:g},p){const q=p.getState()[e].queries[g],I=l.currentSubscriptions[g];if(!q||q.status==="uninitialized")return;const{lowestPollingInterval:m}=R(I);if(!Number.isFinite(m)){w(g);return}const D=v[g],f=Date.now()+m;(!D||f<D.nextPollTimestamp)&&P({queryCacheKey:g},p)}function w(g){const p=v[g];p!=null&&p.timeout&&clearTimeout(p.timeout),delete v[g]}function M(){for(const g of Object.keys(v))w(g)}function R(g={}){let p=!1,Q=Number.POSITIVE_INFINITY;for(let q in g)g[q].pollingInterval&&(Q=Math.min(g[q].pollingInterval,Q),p=g[q].skipPollingIfUnfocused||p);return{lowestPollingInterval:Q,skipPollingIfUnfocused:p}}return b},Xn=({api:e,context:t,queryThunk:r,mutationThunk:a})=>{const l=et(r,a),v=fe(r,a),b=ie(r,a),P={};return(w,M)=>{var R,g;if(l(w)){const{requestId:p,arg:{endpointName:Q,originalArgs:q}}=w.meta,I=t.endpointDefinitions[Q],m=I==null?void 0:I.onQueryStarted;if(m){const D={},f=new Promise((S,E)=>{D.resolve=S,D.reject=E});f.catch(()=>{}),P[p]=D;const n=e.endpoints[Q].select(Oe(I)?q:p),i=M.dispatch((S,E,u)=>u),y={...M,getCacheEntry:()=>n(M.getState()),requestId:p,extra:i,updateCachedData:Oe(I)?S=>M.dispatch(e.util.updateQueryData(Q,q,S)):void 0,queryFulfilled:f};m(q,y)}}else if(b(w)){const{requestId:p,baseQueryMeta:Q}=w.meta;(R=P[p])==null||R.resolve({data:w.payload,meta:Q}),delete P[p]}else if(v(w)){const{requestId:p,rejectedWithValue:Q,baseQueryMeta:q}=w.meta;(g=P[p])==null||g.reject({error:w.payload??w.error,isUnhandledError:!Q,meta:q}),delete P[p]}}},Yn=({reducerPath:e,context:t,api:r,refetchQuery:a,internalState:l})=>{const{removeQueryResult:v}=r.internalActions,b=(A,w)=>{_e.match(A)&&P(w,"refetchOnFocus"),Fe.match(A)&&P(w,"refetchOnReconnect")};function P(A,w){const M=A.getState()[e],R=M.queries,g=l.currentSubscriptions;t.batch(()=>{for(const p of Object.keys(g)){const Q=R[p],q=g[p];if(!q||!Q)continue;(Object.values(q).some(m=>m[w]===!0)||Object.values(q).every(m=>m[w]===void 0)&&M.config[w])&&(le(q)===0?A.dispatch(v({queryCacheKey:p})):Q.status!=="uninitialized"&&A.dispatch(a(Q)))}})}return b};function Zn(e){const{reducerPath:t,queryThunk:r,api:a,context:l}=e,{apiUid:v}=l,b={invalidateTags:G(`${t}/invalidateTags`)},P=R=>R.type.startsWith(`${t}/`),A=[Wn,Hn,Jn,Gn,Kn,Xn];return{middleware:R=>{let g=!1;const Q={...e,internalState:{currentSubscriptions:{}},refetchQuery:M,isThisApiSliceAction:P},q=A.map(D=>D(Q)),I=Bn(Q),m=Yn(Q);return D=>f=>{if(!At(f))return D(f);g||(g=!0,R.dispatch(a.internalActions.middlewareRegistered(v)));const n={...R,next:D},i=R.getState(),[y,S]=I(f,n,i);let E;if(y?E=D(f):E=S,R.getState()[t]&&(m(f,n,i),P(f)||l.hasRehydrationInfo(f)))for(const u of q)u(f,n,i);return E}},actions:b};function M(R){return e.api.endpoints[R.endpointName].initiate(R.originalArgs,{subscribe:!1,forceRefetch:!0})}}var Rt=Symbol(),xt=({createSelector:e=qt}={})=>({name:Rt,init(t,{baseQuery:r,tagTypes:a,reducerPath:l,serializeQueryArgs:v,keepUnusedDataFor:b,refetchOnMountOrArgChange:P,refetchOnFocus:A,refetchOnReconnect:w,invalidationBehavior:M,onSchemaFailure:R,catchSchemaFailure:g,skipSchemaValidation:p},Q){Wt();const q=j=>j;Object.assign(t,{reducerPath:l,endpoints:{},internalActions:{onOnline:Fe,onOffline:rt,onFocus:_e,onFocusLost:nt},util:{}});const I=zn({serializeQueryArgs:v,reducerPath:l,createSelector:e}),{selectInvalidatedBy:m,selectCachedArgsForQuery:D,buildQuerySelector:f,buildInfiniteQuerySelector:n,buildMutationSelector:i}=I;te(t.util,{selectInvalidatedBy:m,selectCachedArgsForQuery:D});const{queryThunk:y,infiniteQueryThunk:S,mutationThunk:E,patchQueryData:u,updateQueryData:s,upsertQueryData:o,prefetch:c,buildMatchThunkActions:d}=xn({baseQuery:r,reducerPath:l,context:Q,api:t,serializeQueryArgs:v,assertTagType:q,selectors:I,onSchemaFailure:R,catchSchemaFailure:g,skipSchemaValidation:p}),{reducer:h,actions:C}=Nn({context:Q,queryThunk:y,mutationThunk:E,serializeQueryArgs:v,reducerPath:l,assertTagType:q,config:{refetchOnFocus:A,refetchOnReconnect:w,refetchOnMountOrArgChange:P,keepUnusedDataFor:b,reducerPath:l,invalidationBehavior:M}});te(t.util,{patchQueryData:u,updateQueryData:s,upsertQueryData:o,prefetch:c,resetApiState:C.resetApiState,upsertQueryEntries:C.cacheEntriesUpserted}),te(t.internalActions,C);const{middleware:O,actions:k}=Zn({reducerPath:l,context:Q,queryThunk:y,mutationThunk:E,infiniteQueryThunk:S,api:t,assertTagType:q,selectors:I});te(t.util,k),te(t,{reducer:h,middleware:O});const{buildInitiateQuery:_,buildInitiateInfiniteQuery:T,buildInitiateMutation:F,getRunningMutationThunk:U,getRunningMutationsThunk:z,getRunningQueriesThunk:H,getRunningQueryThunk:N}=Ln({queryThunk:y,mutationThunk:E,infiniteQueryThunk:S,api:t,serializeQueryArgs:v,context:Q});return te(t.util,{getRunningMutationThunk:U,getRunningMutationsThunk:z,getRunningQueryThunk:N,getRunningQueriesThunk:H}),{name:Rt,injectEndpoint(j,V){var ee;const W=(ee=t.endpoints)[j]??(ee[j]={});Le(V)&&te(W,{name:j,select:f(j,V),initiate:_(j,V)},d(y,j)),jn(V)&&te(W,{name:j,select:i(),initiate:F(j)},d(E,j)),Ue(V)&&te(W,{name:j,select:n(j,V),initiate:T(j,V)},d(y,j))}}}});xt();function Qe(e){return e.replace(e[0],e[0].toUpperCase())}function er(e){return e.type==="query"}function tr(e){return e.type==="mutation"}function Nt(e){return e.type==="infinitequery"}function ge(e,...t){return Object.assign(e,...t)}var Ve=Symbol();function $e(e,t,r,a){const l=L.useMemo(()=>({queryArgs:e,serialized:typeof e=="object"?t({queryArgs:e,endpointDefinition:r,endpointName:a}):e}),[e,t,r,a]),v=L.useRef(l);return L.useEffect(()=>{v.current.serialized!==l.serialized&&(v.current=l)},[l]),v.current.serialized===l.serialized?v.current.queryArgs:e}function qe(e){const t=L.useRef(e);return L.useEffect(()=>{be(t.current,e)||(t.current=e)},[e]),be(t.current,e)?t.current:e}var nr=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rr=nr(),ir=()=>typeof navigator<"u"&&navigator.product==="ReactNative",sr=ir(),or=()=>rr||sr?L.useLayoutEffect:L.useEffect,ur=or(),Mt=e=>e.isUninitialized?{...e,isUninitialized:!1,isFetching:!0,isLoading:e.data===void 0,status:Tt.pending}:e;function He(e,...t){const r={};return t.forEach(a=>{r[a]=e[a]}),r}var Ke=["data","status","isLoading","isSuccess","isError","error"];function cr({api:e,moduleOptions:{batch:t,hooks:{useDispatch:r,useSelector:a,useStore:l},unstable__sideEffectsInRender:v,createSelector:b},serializeQueryArgs:P,context:A}){const w=v?n=>n():L.useEffect;return{buildQueryHooks:m,buildInfiniteQueryHooks:D,buildMutationHook:f,usePrefetch:g};function M(n,i,y){if(i!=null&&i.endpointName&&n.isUninitialized){const{endpointName:c}=i,d=A.endpointDefinitions[c];y!==J&&P({queryArgs:i.originalArgs,endpointDefinition:d,endpointName:c})===P({queryArgs:y,endpointDefinition:d,endpointName:c})&&(i=void 0)}let S=n.isSuccess?n.data:i==null?void 0:i.data;S===void 0&&(S=n.data);const E=S!==void 0,u=n.isLoading,s=(!i||i.isLoading||i.isUninitialized)&&!E&&u,o=n.isSuccess||E&&(u&&!(i!=null&&i.isError)||n.isUninitialized);return{...n,data:S,currentData:n.data,isFetching:u,isLoading:s,isSuccess:o}}function R(n,i,y){if(i!=null&&i.endpointName&&n.isUninitialized){const{endpointName:c}=i,d=A.endpointDefinitions[c];y!==J&&P({queryArgs:i.originalArgs,endpointDefinition:d,endpointName:c})===P({queryArgs:y,endpointDefinition:d,endpointName:c})&&(i=void 0)}let S=n.isSuccess?n.data:i==null?void 0:i.data;S===void 0&&(S=n.data);const E=S!==void 0,u=n.isLoading,s=(!i||i.isLoading||i.isUninitialized)&&!E&&u,o=n.isSuccess||u&&E;return{...n,data:S,currentData:n.data,isFetching:u,isLoading:s,isSuccess:o}}function g(n,i){const y=r(),S=qe(i);return L.useCallback((E,u)=>y(e.util.prefetch(n,E,{...S,...u})),[n,y,S])}function p(n,i,{refetchOnReconnect:y,refetchOnFocus:S,refetchOnMountOrArgChange:E,skip:u=!1,pollingInterval:s=0,skipPollingIfUnfocused:o=!1,...c}={}){const{initiate:d}=e.endpoints[n],h=r(),C=L.useRef(void 0);if(!C.current){const j=h(e.internalActions.internal_getRTKQSubscriptions());C.current=j}const O=$e(u?J:i,De,A.endpointDefinitions[n],n),k=qe({refetchOnReconnect:y,refetchOnFocus:S,pollingInterval:s,skipPollingIfUnfocused:o}),_=c.initialPageParam,T=qe(_),F=L.useRef(void 0);let{queryCacheKey:U,requestId:z}=F.current||{},H=!1;U&&z&&(H=C.current.isRequestSubscribed(U,z));const N=!H&&F.current!==void 0;return w(()=>{N&&(F.current=void 0)},[N]),w(()=>{var x;const j=F.current;if(O===J){j==null||j.unsubscribe(),F.current=void 0;return}const V=(x=F.current)==null?void 0:x.subscriptionOptions;if(!j||j.arg!==O){j==null||j.unsubscribe();const W=h(d(O,{subscriptionOptions:k,forceRefetch:E,...Nt(A.endpointDefinitions[n])?{initialPageParam:T}:{}}));F.current=W}else k!==V&&j.updateSubscriptionOptions(k)},[h,d,E,O,k,N,T,n]),[F,h,d,k]}function Q(n,i){return(S,{skip:E=!1,selectFromResult:u}={})=>{const{select:s}=e.endpoints[n],o=$e(E?J:S,P,A.endpointDefinitions[n],n),c=L.useRef(void 0),d=L.useMemo(()=>b([s(o),(_,T)=>T,_=>o],i,{memoizeOptions:{resultEqualityCheck:be}}),[s,o]),h=L.useMemo(()=>u?b([d],u,{devModeChecks:{identityFunctionCheck:"never"}}):d,[d,u]),C=a(_=>h(_,c.current),be),O=l(),k=d(O.getState(),c.current);return ur(()=>{c.current=k},[k]),C}}function q(n){L.useEffect(()=>()=>{var i,y;(y=(i=n.current)==null?void 0:i.unsubscribe)==null||y.call(i),n.current=void 0},[n])}function I(n){if(!n.current)throw new Error(X(38));return n.current.refetch()}function m(n){const i=(E,u={})=>{const[s]=p(n,E,u);return q(s),L.useMemo(()=>({refetch:()=>I(s)}),[s])},y=({refetchOnReconnect:E,refetchOnFocus:u,pollingInterval:s=0,skipPollingIfUnfocused:o=!1}={})=>{const{initiate:c}=e.endpoints[n],d=r(),[h,C]=L.useState(Ve),O=L.useRef(void 0),k=qe({refetchOnReconnect:E,refetchOnFocus:u,pollingInterval:s,skipPollingIfUnfocused:o});w(()=>{var z,H;const U=(z=O.current)==null?void 0:z.subscriptionOptions;k!==U&&((H=O.current)==null||H.updateSubscriptionOptions(k))},[k]);const _=L.useRef(k);w(()=>{_.current=k},[k]);const T=L.useCallback(function(U,z=!1){let H;return t(()=>{var N;(N=O.current)==null||N.unsubscribe(),O.current=H=d(c(U,{subscriptionOptions:_.current,forceRefetch:!z})),C(U)}),H},[d,c]),F=L.useCallback(()=>{var U,z;(U=O.current)!=null&&U.queryCacheKey&&d(e.internalActions.removeQueryResult({queryCacheKey:(z=O.current)==null?void 0:z.queryCacheKey}))},[d]);return L.useEffect(()=>()=>{var U;(U=O==null?void 0:O.current)==null||U.unsubscribe()},[]),L.useEffect(()=>{h!==Ve&&!O.current&&T(h,!0)},[h,T]),L.useMemo(()=>[T,h,{reset:F}],[T,h,F])},S=Q(n,M);return{useQueryState:S,useQuerySubscription:i,useLazyQuerySubscription:y,useLazyQuery(E){const[u,s,{reset:o}]=y(E),c=S(s,{...E,skip:s===Ve}),d=L.useMemo(()=>({lastArg:s}),[s]);return L.useMemo(()=>[u,{...c,reset:o},d],[u,c,o,d])},useQuery(E,u){const s=i(E,u),o=S(E,{selectFromResult:E===J||u!=null&&u.skip?void 0:Mt,...u}),c=He(o,...Ke);return L.useDebugValue(c),L.useMemo(()=>({...o,...s}),[o,s])}}}function D(n){const i=(S,E={})=>{const[u,s,o,c]=p(n,S,E),d=L.useRef(c);w(()=>{d.current=c},[c]);const h=L.useCallback(function(k,_){let T;return t(()=>{var F;(F=u.current)==null||F.unsubscribe(),u.current=T=s(o(k,{subscriptionOptions:d.current,direction:_}))}),T},[u,s,o]);q(u);const C=$e(E.skip?J:S,De,A.endpointDefinitions[n],n),O=L.useCallback(()=>I(u),[u]);return L.useMemo(()=>({trigger:h,refetch:O,fetchNextPage:()=>h(C,"forward"),fetchPreviousPage:()=>h(C,"backward")}),[O,h,C])},y=Q(n,R);return{useInfiniteQueryState:y,useInfiniteQuerySubscription:i,useInfiniteQuery(S,E){const{refetch:u,fetchNextPage:s,fetchPreviousPage:o}=i(S,E),c=y(S,{selectFromResult:S===J||E!=null&&E.skip?void 0:Mt,...E}),d=He(c,...Ke,"hasNextPage","hasPreviousPage");return L.useDebugValue(d),L.useMemo(()=>({...c,fetchNextPage:s,fetchPreviousPage:o,refetch:u}),[c,s,o,u])}}}function f(n){return({selectFromResult:i,fixedCacheKey:y}={})=>{const{select:S,initiate:E}=e.endpoints[n],u=r(),[s,o]=L.useState();L.useEffect(()=>()=>{s!=null&&s.arg.fixedCacheKey||s==null||s.reset()},[s]);const c=L.useCallback(function(U){const z=u(E(U,{fixedCacheKey:y}));return o(z),z},[u,E,y]),{requestId:d}=s||{},h=L.useMemo(()=>S({fixedCacheKey:y,requestId:s==null?void 0:s.requestId}),[y,s,S]),C=L.useMemo(()=>i?b([h],i):h,[i,h]),O=a(C,be),k=y==null?s==null?void 0:s.arg.originalArgs:void 0,_=L.useCallback(()=>{t(()=>{s&&o(void 0),y&&u(e.internalActions.removeMutationResult({requestId:d,fixedCacheKey:y}))})},[u,y,s,d]),T=He(O,...Ke,"endpointName");L.useDebugValue(T);const F=L.useMemo(()=>({...O,originalArgs:k,reset:_}),[O,k,_]);return L.useMemo(()=>[c,F],[c,F])}}}var ar=Symbol(),lr=({batch:e=Zt,hooks:t={useDispatch:nn,useSelector:tn,useStore:en},createSelector:r=qt,unstable__sideEffectsInRender:a=!1,...l}={})=>({name:ar,init(v,{serializeQueryArgs:b},P){const A=v,{buildQueryHooks:w,buildInfiniteQueryHooks:M,buildMutationHook:R,usePrefetch:g}=cr({api:v,moduleOptions:{batch:e,hooks:t,unstable__sideEffectsInRender:a,createSelector:r},serializeQueryArgs:b,context:P});return ge(A,{usePrefetch:g}),ge(P,{batch:e}),{injectEndpoint(p,Q){if(er(Q)){const{useQuery:q,useLazyQuery:I,useLazyQuerySubscription:m,useQueryState:D,useQuerySubscription:f}=w(p);ge(A.endpoints[p],{useQuery:q,useLazyQuery:I,useLazyQuerySubscription:m,useQueryState:D,useQuerySubscription:f}),v[`use${Qe(p)}Query`]=q,v[`useLazy${Qe(p)}Query`]=I}if(tr(Q)){const q=R(p);ge(A.endpoints[p],{useMutation:q}),v[`use${Qe(p)}Mutation`]=q}else if(Nt(Q)){const{useInfiniteQuery:q,useInfiniteQuerySubscription:I,useInfiniteQueryState:m}=M(p);ge(A.endpoints[p],{useInfiniteQuery:q,useInfiniteQuerySubscription:I,useInfiniteQueryState:m}),v[`use${Qe(p)}InfiniteQuery`]=q}}}}}),Er=Ut(xt(),lr());export{ce as a,vr as b,Er as c,Sr as f,wr as s};
