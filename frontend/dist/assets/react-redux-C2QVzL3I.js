import{r as o}from"./react-DOKUib4L.js";import{w as L}from"./use-sync-external-store-ruIS0Fp4.js";function w(e){e()}function D(){let e=null,n=null;return{clear(){e=null,n=null},notify(){w(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let s=e;for(;s;)t.push(s),s=s.next;return t},subscribe(t){let s=!0;const r=n={callback:t,next:null,prev:n};return r.prev?r.prev.next=r:e=r,function(){!s||e===null||(s=!1,r.next?r.next.prev=r.prev:n=r.prev,r.prev?r.prev.next=r.next:e=r.next)}}}}var C={notify(){},get:()=>[]};function M(e,n){let t,s=C,r=0,c=!1;function a(k){d();const N=s.subscribe(k);let g=!1;return()=>{g||(g=!0,N(),f())}}function l(){s.notify()}function u(){S.onStateChange&&S.onStateChange()}function b(){return c}function d(){r++,t||(t=e.subscribe(u),s=D())}function f(){r--,t&&r===0&&(t(),t=void 0,s.clear(),s=C)}function p(){c||(c=!0,d())}function h(){c&&(c=!1,f())}const S={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:b,trySubscribe:p,tryUnsubscribe:h,getListeners:()=>s};return S}var U=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",V=U(),O=()=>typeof navigator<"u"&&navigator.product==="ReactNative",P=O(),H=()=>V||P?o.useLayoutEffect:o.useEffect,T=H();function m(e,n){return e===n?e!==0||n!==0||1/e===1/n:e!==e&&n!==n}function Q(e,n){if(m(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;const t=Object.keys(e),s=Object.keys(n);if(t.length!==s.length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(n,t[r])||!m(e[t[r]],n[t[r]]))return!1;return!0}var v=Symbol.for("react-redux-context"),x=typeof globalThis<"u"?globalThis:{};function I(){if(!o.createContext)return{};const e=x[v]??(x[v]=new Map);let n=e.get(o.createContext);return n||(n=o.createContext(null),e.set(o.createContext,n)),n}var i=I();function q(e){const{children:n,context:t,serverState:s,store:r}=e,c=o.useMemo(()=>{const u=M(r);return{store:r,subscription:u,getServerState:s?()=>s:void 0}},[r,s]),a=o.useMemo(()=>r.getState(),[r]);T(()=>{const{subscription:u}=c;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==r.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[c,a]);const l=t||i;return o.createElement(l.Provider,{value:c},n)}var X=q;function y(e=i){return function(){return o.useContext(e)}}var R=y();function E(e=i){const n=e===i?R:y(e),t=()=>{const{store:s}=n();return s};return Object.assign(t,{withTypes:()=>t}),t}var W=E();function _(e=i){const n=e===i?W:E(e),t=()=>n().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var Y=_(),z=(e,n)=>e===n;function F(e=i){const n=e===i?R:y(e),t=(s,r={})=>{const{equalityFn:c=z}=typeof r=="function"?{equalityFn:r}:r,a=n(),{store:l,subscription:u,getServerState:b}=a;o.useRef(!0);const d=o.useCallback({[s.name](p){return s(p)}}[s.name],[s]),f=L.useSyncExternalStoreWithSelector(u.addNestedSub,l.getState,b||l.getState,d,c);return o.useDebugValue(f),f};return Object.assign(t,{withTypes:()=>t}),t}var Z=F(),$=w;export{X as P,Z as a,$ as b,Y as c,Q as s,W as u};
